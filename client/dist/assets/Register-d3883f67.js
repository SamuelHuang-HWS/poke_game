import{u as f,h as d,m as c,r as g,o as v,c as _,i as t,w,j as i,v as l,t as h,k as p,a as b,l as y}from"./vendor-7103c11f.js";import{_ as D,u as x}from"./index-714f4fbd.js";import"./utils-3f3b5d51.js";const R={name:"Register",setup(){const u=f(),e=x(),r=d({username:"",phoneNumber:"",password:"",confirmPassword:""}),s=d(!1),n=d(!1);return c([()=>r.value.password,()=>r.value.confirmPassword],([a,o])=>{n.value=a!==o&&o!==""}),{formData:r,isLoading:s,passwordMismatch:n,handleRegister:async()=>{if(r.value.password!==r.value.confirmPassword){alert("两次输入的密码不一致");return}try{s.value=!0,await e.register(r.value.username,r.value.phoneNumber,r.value.password),alert("注册成功！"),u.push("/")}catch(a){alert(a.message||"注册失败")}finally{s.value=!1}}}}},N={class:"register-container"},V={class:"register-card glass-effect"},k={class:"input-group"},q={class:"input-group"},P={class:"input-group"},S={class:"input-group"},U=["disabled"],B={class:"footer"};function L(u,e,r,s,n,m){const a=g("router-link");return v(),_("div",N,[t("div",V,[e[7]||(e[7]=t("h1",{class:"title"},"666",-1)),e[8]||(e[8]=t("p",{class:"subtitle"},"创建您的账户",-1)),t("form",{onSubmit:e[4]||(e[4]=w((...o)=>s.handleRegister&&s.handleRegister(...o),["prevent"])),class:"register-form"},[t("div",k,[i(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>s.formData.username=o),type:"text",placeholder:"请输入用户名",class:"input-field",required:""},null,512),[[l,s.formData.username]])]),t("div",q,[i(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>s.formData.phoneNumber=o),type:"tel",placeholder:"请输入手机号",class:"input-field",required:""},null,512),[[l,s.formData.phoneNumber]])]),t("div",P,[i(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>s.formData.password=o),type:"password",placeholder:"请输入密码（至少6位）",class:"input-field",required:"",minlength:"6"},null,512),[[l,s.formData.password]])]),t("div",S,[i(t("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>s.formData.confirmPassword=o),type:"password",placeholder:"请确认密码",class:"input-field",required:""},null,512),[[l,s.formData.confirmPassword]])]),t("button",{type:"submit",class:"register-button",disabled:s.isLoading},h(s.isLoading?"注册中...":"注册"),9,U)],32),t("div",B,[t("p",null,[e[6]||(e[6]=p("已有账户？",-1)),b(a,{to:"/login",class:"link"},{default:y(()=>[...e[5]||(e[5]=[p("立即登录",-1)])]),_:1})])])])])}const A=D(R,[["render",L],["__scopeId","data-v-be889549"]]);export{A as default};
