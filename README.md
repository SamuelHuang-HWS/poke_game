# 炸金花游戏平台

一个基于Vue 3 + Node.js的多人在线炸金花游戏平台，具备完整的用户系统、房间系统和实时游戏功能。

## 项目特色

- 🎮 **经典玩法**: 完整的炸金花游戏规则实现
- 👥 **多人在线**: 支持多人实时对战
- 🏠 **独立房间**: 用户可创建私人房间
- 💰 **金币系统**: 独立的房间金币机制
- 📱 **响应式设计**: 适配各种设备屏幕
- 🎨 **现代UI**: 玻璃拟态设计风格
- ⚡ **实时通信**: WebSocket实时数据同步

## 技术架构

### 前端
- **框架**: Vue 3 (Composition API)
- **构建工具**: Vite
- **状态管理**: Pinia
- **路由**: Vue Router
- **网络请求**: Axios
- **实时通信**: Socket.IO Client
- **UI设计**: 原生CSS + 玻璃拟态

### 后端
- **框架**: Node.js + Express
- **数据库**: MongoDB + Redis
- **实时通信**: Socket.IO
- **认证**: JWT + bcrypt
- **日志**: Winston
- **验证**: Joi

## 功能特性

### 一期核心功能（已完成）

#### 用户系统
- [x] 手机号注册/登录
- [x] JWT Token认证
- [x] 个人信息管理
- [x] 同设备防多开

#### 游戏核心
- [x] 炸金花完整玩法
- [x] 发牌系统
- [x] 牌型判断（豹子、同花顺、同花、顺子、对子、单张）
- [x] 游戏操作（看牌、跟注、加注、弃牌、比牌）
- [x] 游戏流程控制

#### 房间系统
- [x] 独立建房功能
- [x] 房间参数设置（入场金币、单注、局数）
- [x] 房间号生成与管理
- [x] 房间局数设定（到达指定局数自动结算）
- [x] 房间搜索与加入（仅通过房间号）
- [x] 房间内游戏币独立于主金币系统

### 技术实现

#### 数据库设计
- **MongoDB**: 存储用户信息、房间信息、游戏记录
- **Redis**: 缓存房间状态、在线用户信息

#### 实时通信
- **Socket.IO**: 实现游戏状态实时同步
- **事件驱动**: 玩家操作即时广播给所有参与者

#### 安全机制
- **JWT认证**: 保护API接口安全
- **输入验证**: Joi验证所有用户输入
- **速率限制**: 防止恶意请求
- **密码加密**: bcrypt加密存储用户密码

## 项目结构

```
poke_game/
├── server/                    # 后端服务
│   ├── config/               # 配置文件
│   ├── controllers/           # 控制器
│   ├── middleware/            # 中间件
│   ├── models/               # 数据模型
│   ├── routes/               # 路由
│   ├── services/             # 业务逻辑
│   ├── socket/               # Socket.IO处理
│   ├── utils/                # 工具函数
│   ├── index.js              # 服务器入口
│   └── README.md             # 后端文档
├── client/                    # 前端应用
│   ├── src/
│   │   ├── assets/           # 静态资源
│   │   ├── components/       # 公共组件
│   │   ├── views/            # 页面视图
│   │   ├── stores/           # 状态管理
│   │   ├── router/           # 路由配置
│   │   ├── services/         # 服务层
│   │   ├── styles/           # 样式文件
│   │   ├── utils/            # 工具函数
│   │   ├── App.vue           # 根组件
│   │   └── main.js           # 入口文件
│   ├── vite.config.js        # Vite配置
│   └── README.md             # 前端文档
├── docs/                      # 文档
├── ARCHITECTURE.md            # 系统架构设计
├── development_phases.md      # 开发阶段规划
├── requirements.md            # 需求文档
└── package.json               # 项目依赖
```

## 快速开始

### 环境要求
- Node.js >= 16.0.0
- MongoDB >= 4.0.0
- Redis >= 6.0.0

### 安装依赖
```bash
# 安装前后端依赖
npm run setup
```

### 启动开发环境
```bash
# 同时启动前后端开发服务器
npm run dev
```

### 访问应用
- 前端: http://localhost:8080
- 后端API: http://localhost:3000
- Socket.IO: ws://localhost:3000

## 开发指南

### 项目初始化
1. 克隆项目代码
2. 安装MongoDB和Redis
3. 配置环境变量
4. 运行`npm run setup`安装依赖
5. 启动开发服务器`npm run dev`

### 代码规范
- 遵循Vue 3 Composition API风格
- 使用ESLint进行代码检查
- 组件化开发，提高复用性
- 状态管理规范化

### 目录说明
- `server/`: 后端服务代码
- `client/`: 前端应用代码
- `docs/`: 项目文档
- 根目录下的Markdown文件为项目核心文档

## 部署说明

### 生产环境构建
```bash
# 构建前端应用
npm run build
```

### 启动生产服务
```bash
# 启动后端服务
npm start
```

### Docker部署
项目支持Docker容器化部署，详见各模块README文档。

## 未来规划

### 二期功能扩展
- 用户等级系统
- 基础成就系统
- 游戏动画和特效优化
- 音效系统
- 断线重连机制
- VIP系统
- 更丰富的商城商品

### 三期社交功能
- 好友系统
- 私人房功能
- 排行榜系统
- 比赛模式
- 活动系统
- 消息系统

### 四期平台化发展
- 新玩法扩展（德州扑克、牛牛等）
- 跨玩法资产体系
- 统一社交系统
- 微服务架构改造
- 容器化部署

## 贡献指南

欢迎提交Issue和Pull Request来改进项目。

## 许可证

MIT License