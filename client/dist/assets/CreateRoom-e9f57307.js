import{u as f,h as i,r as v,o as p,c,i as s,a as b,l as g,w as _,j as l,A as d,v as R,t as D,k as w}from"./vendor-7103c11f.js";import{u as C}from"./room-9fddfd0e.js";import{_ as x}from"./index-714f4fbd.js";import"./utils-3f3b5d51.js";const y={name:"CreateRoom",setup(){const n=f(),o=C(),a=i({baseBet:1,totalRounds:10,password:""}),t=i(!1);return{formData:a,isLoading:t,handleCreateRoom:async()=>{try{t.value=!0,console.log("formData.value",a.value);const r=await o.createRoom(a.value);n.push(`/rooms/${r.data.data.roomId}`)}catch(r){alert(r.message||"创建房间失败")}finally{t.value=!1}}}}},k={class:"create-room-container"},B={class:"navbar glass-effect"},V={class:"nav-left"},S={class:"form-section"},L={class:"form-container glass-effect"},M={class:"form-group"},N={class:"form-group"},U={class:"form-group"},q=["disabled"];function I(n,o,a,t,m,r){const u=v("router-link");return p(),c("div",k,[s("nav",B,[s("div",V,[b(u,{to:"/rooms",class:"back-link"},{default:g(()=>[...o[4]||(o[4]=[w("← 返回房间列表",-1)])]),_:1})]),o[5]||(o[5]=s("div",{class:"nav-center"},[s("h1",{class:"title"},"创建房间")],-1)),o[6]||(o[6]=s("div",{class:"nav-right"},null,-1))]),s("div",S,[s("div",L,[s("form",{onSubmit:o[3]||(o[3]=_((...e)=>t.handleCreateRoom&&t.handleCreateRoom(...e),["prevent"])),class:"room-form"},[s("div",M,[o[8]||(o[8]=s("label",{class:"form-label"},"单注倍数",-1)),l(s("select",{"onUpdate:modelValue":o[0]||(o[0]=e=>t.formData.baseBet=e),class:"form-select",required:""},[...o[7]||(o[7]=[s("option",{value:"1"},"1倍（100金币）",-1),s("option",{value:"2"},"2倍（200金币）",-1),s("option",{value:"5"},"5倍（500金币）",-1)])],512),[[d,t.formData.baseBet,void 0,{number:!0}]]),o[9]||(o[9]=s("div",{class:"form-hint"},"每注的基础金额",-1))]),s("div",N,[o[11]||(o[11]=s("label",{class:"form-label"},"房间局数",-1)),l(s("select",{"onUpdate:modelValue":o[1]||(o[1]=e=>t.formData.totalRounds=e),class:"form-select",required:""},[...o[10]||(o[10]=[s("option",{value:"10"},"10局",-1),s("option",{value:"20"},"20局",-1),s("option",{value:"50"},"50局",-1)])],512),[[d,t.formData.totalRounds,void 0,{number:!0}]])]),s("div",U,[o[12]||(o[12]=s("label",{class:"form-label"},"房间密码（可选）",-1)),l(s("input",{"onUpdate:modelValue":o[2]||(o[2]=e=>t.formData.password=e),type:"password",class:"form-input",placeholder:"留空则为公开房间",maxlength:"20"},null,512),[[R,t.formData.password]]),o[13]||(o[13]=s("div",{class:"form-hint"},"设置密码后，只有知道密码的玩家才能加入",-1))]),s("button",{type:"submit",class:"create-button",disabled:t.isLoading},D(t.isLoading?"创建中...":"创建房间"),9,q)],32)])])])}const z=x(y,[["render",I],["__scopeId","data-v-42334eb8"]]);export{z as default};
